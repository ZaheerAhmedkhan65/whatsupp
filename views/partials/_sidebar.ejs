<div class="sidebar">
  <h2>Users</h2>
  <!-- Search Bar -->
  <form action="/users/search" method="GET" style="margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 5px;">
    <input type="text" name="username" placeholder="Search by username" style="padding: 5px; border-radius: 5px; border: none;">
    <input type="hidden" name="token" value="<%= token %>">
    <button type="submit" style="padding: 4px; border-radius: 5px;">Search</button>
</form>

  <ul class="user-list" id="user-list">
    <% friends.forEach(user => { %>
      <li>
        <a href="/messages/chat?token=<%= token %>&receiverId=<%= user.id %>">
          <%= user.username %>
        </a>
      </li>
    <% }) %>
  </ul>

  <!-- Pending Friend Requests -->
  <h2>Pending Requests</h2>
  <ul class="friend-requests" id="friend-requests">
    <% friendRequests.forEach(request => { %>
      <li>
        <%= request.sender_username %>
        <form action="/friends/accept-request" method="POST">
          <input type="hidden" name="requestId" value="<%= request.id %>">
          <input type="hidden" name="token" value="<%= token %>">
          <button type="submit">Accept</button>
        </form>
        <form action="/friends/reject-request" method="POST">
          <input type="hidden" name="requestId" value="<%= request.id %>">
          <input type="hidden" name="token" value="<%= token %>">
          <button type="submit">Reject</button>
        </form>
      </li>
    <% }) %>
  </ul>
</div>